<div id="pf5f" class="pf w0 h0" data-page-no="5f"><div class="pc pc5f w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg5f.png"/><div class="c x0 y3c1 w1 h9"><div class="t m0 x1 h3 yf0f ff1 fs0 fc0 sc0 ls0 ws0"> </div><div class="t m0 x1 h3 yf10 ff1 fs0 fc0 sc0 ls0 ws0">RFC 2616                        HTTP/1.1                       June 1999</div><div class="t m0 x1 h6 yf11 ff2 fs0 fc0 sc0 ls0 ws0">13.5.4 Combining Byte Ranges</div><div class="t m0 x1 h3 yf12 ff1 fs0 fc0 sc0 ls0 ws0">   A response might transfer only a subrange of the bytes of an entity-</div><div class="t m0 x1 h3 yf13 ff1 fs0 fc0 sc0 ls0 ws0">   body, either because the request included one or more Range</div><div class="t m0 x1 h3 yf14 ff1 fs0 fc0 sc0 ls0 ws0">   specifications, or because a connection was broken prematurely. After</div><div class="t m0 x1 h3 yf15 ff1 fs0 fc0 sc0 ls0 ws0">   several such transfers, a cache might have received several ranges of</div><div class="t m0 x1 h3 yf16 ff1 fs0 fc0 sc0 ls0 ws0">   the same entity-body.</div><div class="t m0 x1 h3 yf17 ff1 fs0 fc0 sc0 ls0 ws0">   If a cache has a stored non-empty set of subranges for an entity, and</div><div class="t m0 x1 h3 yf18 ff1 fs0 fc0 sc0 ls0 ws0">   an incoming response transfers another subrange, the cache MAY</div><div class="t m0 x1 h3 yf19 ff1 fs0 fc0 sc0 ls0 ws0">   combine the new subrange with the existing set if both the following</div><div class="t m0 x1 h3 yf1a ff1 fs0 fc0 sc0 ls0 ws0">   conditions are met:</div><div class="t m0 x1 h3 yf1b ff1 fs0 fc0 sc0 ls0 ws0">      - Both the incoming response and the cache entry have a cache</div><div class="t m0 x1 h3 yf1c ff1 fs0 fc0 sc0 ls0 ws0">        validator.</div><div class="t m0 x1 h3 yf1d ff1 fs0 fc0 sc0 ls0 ws0">      - The two cache validators match using the strong comparison</div><div class="t m0 x1 h3 yf1e ff1 fs0 fc0 sc0 ls0 ws0">        function (see section 13.3.3).</div><div class="t m0 x1 h3 yf1f ff1 fs0 fc0 sc0 ls0 ws0">   If either requirement is not met, the cache MUST use only the most</div><div class="t m0 x1 h3 yf20 ff1 fs0 fc0 sc0 ls0 ws0">   recent partial response (based on the Date values transmitted with</div><div class="t m0 x1 h3 yf21 ff1 fs0 fc0 sc0 ls0 ws0">   every response, and using the incoming response if these values are</div><div class="t m0 x1 h3 yf22 ff1 fs0 fc0 sc0 ls0 ws0">   equal or missing), and MUST discard the other partial information.</div><div class="t m0 x1 h6 yf23 ff2 fs0 fc0 sc0 ls0 ws0">13.6 Caching Negotiated Responses</div><div class="t m0 x1 h3 yf24 ff1 fs0 fc0 sc0 ls0 ws0">   Use of server-driven content negotiation (section 12.1), as indicated</div><div class="t m0 x1 h3 yf25 ff1 fs0 fc0 sc0 ls0 ws0">   by the presence of a Vary header field in a response, alters the</div><div class="t m0 x1 h3 yf26 ff1 fs0 fc0 sc0 ls0 ws0">   conditions and procedure by which a cache can use the response for</div><div class="t m0 x1 h3 yf27 ff1 fs0 fc0 sc0 ls0 ws0">   subsequent requests. See section 14.44 for use of the Vary header</div><div class="t m0 x1 h3 yf28 ff1 fs0 fc0 sc0 ls0 ws0">   field by servers.</div><div class="t m0 x1 h3 yf29 ff1 fs0 fc0 sc0 ls0 ws0">   A server SHOULD use the Vary header field to inform a cache of what</div><div class="t m0 x1 h3 yf2a ff1 fs0 fc0 sc0 ls0 ws0">   request-header fields were used to select among multiple</div><div class="t m0 x1 h3 yf2b ff1 fs0 fc0 sc0 ls0 ws0">   representations of a cacheable response subject to server-driven</div><div class="t m0 x1 h3 yf2c ff1 fs0 fc0 sc0 ls0 ws0">   negotiation. The set of header fields named by the Vary field value</div><div class="t m0 x1 h3 yf2d ff1 fs0 fc0 sc0 ls0 ws0">   is known as the &quot;selecting&quot; request-headers.</div><div class="t m0 x1 h3 yf2e ff1 fs0 fc0 sc0 ls0 ws0">   When the cache receives a subsequent request whose Request-URI</div><div class="t m0 x1 h3 yf2f ff1 fs0 fc0 sc0 ls0 ws0">   specifies one or more cache entries including a Vary header field,</div><div class="t m0 x1 h3 yf30 ff1 fs0 fc0 sc0 ls0 ws0">   the cache MUST NOT use such a cache entry to construct a response to</div><div class="t m0 x1 h3 yf31 ff1 fs0 fc0 sc0 ls0 ws0">   the new request unless all of the selecting request-headers present</div><div class="t m0 x1 h3 yf32 ff1 fs0 fc0 sc0 ls0 ws0">   in the new request match the corresponding stored request-headers in</div><div class="t m0 x1 h3 yf33 ff1 fs0 fc0 sc0 ls0 ws0">   the original request.</div><div class="t m0 x1 h3 yf34 ff1 fs0 fc0 sc0 ls0 ws0">   The selecting request-headers from two requests are defined to match</div><div class="t m0 x1 h3 yf35 ff1 fs0 fc0 sc0 ls0 ws0">   if and only if the selecting request-headers in the first request can</div><div class="t m0 x1 h3 yf36 ff1 fs0 fc0 sc0 ls0 ws0">   be transformed to the selecting request-headers in the second request</div><div class="t m0 x1 h3 yf37 ff1 fs0 fc0 sc0 ls0 ws0">Fielding, et al.            Standards Track                    [Page 95]</div></div><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:801.984400px;width:5.606300px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div><a class="l" href="https://tools.ietf.org/html/rfc2616"><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:789.171900px;width:44.849900px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div></a><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:750.726600px;width:35.239300px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div><div class="d m1" style="border-style:none;position:absolute;left:158.744400px;bottom:532.882800px;width:78.487400px;height:11.218800px;background-color:rgba(255,255,255,0.000001);"></div><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:443.187500px;width:23.225900px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div><div class="d m1" style="border-style:none;position:absolute;left:287.688000px;bottom:417.554700px;width:67.274900px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div><div class="d m1" style="border-style:none;position:absolute;left:192.381900px;bottom:379.117200px;width:72.881100px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
