<div id="pf62" class="pf w0 h0" data-page-no="62"><div class="pc pc62 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg62.png"/><div class="c x0 y3c1 w1 h9"><div class="t m0 x1 h3 yf8d ff1 fs0 fc0 sc0 ls0 ws0"> </div><div class="t m0 x1 h3 yf8e ff1 fs0 fc0 sc0 ls0 ws0">RFC 2616                        HTTP/1.1                       June 1999</div><div class="t m0 x1 h3 yf8f ff1 fs0 fc0 sc0 ls0 ws0">   There is no way for the HTTP protocol to guarantee that all such</div><div class="t m0 x1 h3 yf90 ff1 fs0 fc0 sc0 ls0 ws0">   cache entries are marked invalid. For example, the request that</div><div class="t m0 x1 h3 yf91 ff1 fs0 fc0 sc0 ls0 ws0">   caused the change at the origin server might not have gone through</div><div class="t m0 x1 h3 yf92 ff1 fs0 fc0 sc0 ls0 ws0">   the proxy where a cache entry is stored. However, several rules help</div><div class="t m0 x1 h3 yf93 ff1 fs0 fc0 sc0 ls0 ws0">   reduce the likelihood of erroneous behavior.</div><div class="t m0 x1 h3 yf94 ff1 fs0 fc0 sc0 ls0 ws0">   In this section, the phrase &quot;invalidate an entity&quot; means that the</div><div class="t m0 x1 h3 yf95 ff1 fs0 fc0 sc0 ls0 ws0">   cache will either remove all instances of that entity from its</div><div class="t m0 x1 h3 yf96 ff1 fs0 fc0 sc0 ls0 ws0">   storage, or will mark these as &quot;invalid&quot; and in need of a mandatory</div><div class="t m0 x1 h3 yf97 ff1 fs0 fc0 sc0 ls0 ws0">   revalidation before they can be returned in response to a subsequent</div><div class="t m0 x1 h3 yf98 ff1 fs0 fc0 sc0 ls0 ws0">   request.</div><div class="t m0 x1 h3 yf99 ff1 fs0 fc0 sc0 ls0 ws0">   Some HTTP methods MUST cause a cache to invalidate an entity. This is</div><div class="t m0 x1 h3 yf9a ff1 fs0 fc0 sc0 ls0 ws0">   either the entity referred to by the Request-URI, or by the Location</div><div class="t m0 x1 h3 yf9b ff1 fs0 fc0 sc0 ls0 ws0">   or Content-Location headers (if present). These methods are:</div><div class="t m0 x1 h3 yf9c ff1 fs0 fc0 sc0 ls0 ws0">      - PUT</div><div class="t m0 x1 h3 yf9d ff1 fs0 fc0 sc0 ls0 ws0">      - DELETE</div><div class="t m0 x1 h3 yf9e ff1 fs0 fc0 sc0 ls0 ws0">      - POST</div><div class="t m0 x1 h3 yf9f ff1 fs0 fc0 sc0 ls0 ws0">   In order to prevent denial of service attacks, an invalidation based</div><div class="t m0 x1 h3 yfa0 ff1 fs0 fc0 sc0 ls0 ws0">   on the URI in a Location or Content-Location header MUST only be</div><div class="t m0 x1 h3 yfa1 ff1 fs0 fc0 sc0 ls0 ws0">   performed if the host part is the same as in the Request-URI.</div><div class="t m0 x1 h3 yfa2 ff1 fs0 fc0 sc0 ls0 ws0">   A cache that passes through requests for methods it does not</div><div class="t m0 x1 h3 yfa3 ff1 fs0 fc0 sc0 ls0 ws0">   understand SHOULD invalidate any entities referred to by the</div><div class="t m0 x1 h3 yfa4 ff1 fs0 fc0 sc0 ls0 ws0">   Request-URI.</div><div class="t m0 x1 h6 yfa5 ff2 fs0 fc0 sc0 ls0 ws0">13.11 Write-Through Mandatory</div><div class="t m0 x1 h3 yfa6 ff1 fs0 fc0 sc0 ls0 ws0">   All methods that might be expected to cause modifications to the</div><div class="t m0 x1 h3 yfa7 ff1 fs0 fc0 sc0 ls0 ws0">   origin server&apos;s resources MUST be written through to the origin</div><div class="t m0 x1 h3 yfa8 ff1 fs0 fc0 sc0 ls0 ws0">   server. This currently includes all methods except for GET and HEAD.</div><div class="t m0 x1 h3 yfa9 ff1 fs0 fc0 sc0 ls0 ws0">   A cache MUST NOT reply to such a request from a client before having</div><div class="t m0 x1 h3 yfaa ff1 fs0 fc0 sc0 ls0 ws0">   transmitted the request to the inbound server, and having received a</div><div class="t m0 x1 h3 yfab ff1 fs0 fc0 sc0 ls0 ws0">   corresponding response from the inbound server. This does not prevent</div><div class="t m0 x1 h3 yfac ff1 fs0 fc0 sc0 ls0 ws0">   a proxy cache from sending a 100 (Continue) response before the</div><div class="t m0 x1 h3 yfad ff1 fs0 fc0 sc0 ls0 ws0">   inbound server has sent its final reply.</div><div class="t m0 x1 h3 yfae ff1 fs0 fc0 sc0 ls0 ws0">   The alternative (known as &quot;write-back&quot; or &quot;copy-back&quot; caching) is not</div><div class="t m0 x1 h3 yfaf ff1 fs0 fc0 sc0 ls0 ws0">   allowed in HTTP/1.1, due to the difficulty of providing consistent</div><div class="t m0 x1 h3 yfb0 ff1 fs0 fc0 sc0 ls0 ws0">   updates and the problems arising from server, cache, or network</div><div class="t m0 x1 h3 yfb1 ff1 fs0 fc0 sc0 ls0 ws0">   failure prior to write-back.</div><div class="t m0 x1 h3 yfb2 ff1 fs0 fc0 sc0 ls0 ws0">Fielding, et al.            Standards Track                    [Page 98]</div></div><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:801.992200px;width:5.606300px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div><a class="l" href="https://tools.ietf.org/html/rfc2616"><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:789.171900px;width:44.849900px;height:11.218700px;background-color:rgba(255,255,255,0.000001);"></div></a><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:366.304700px;width:28.832100px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
