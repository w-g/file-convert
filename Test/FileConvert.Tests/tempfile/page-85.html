<div id="pf55" class="pf w0 h0" data-page-no="55"><div class="pc pc55 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg55.png"/><div class="c x0 y3c1 w1 h9"><div class="t m0 x1 h3 yd81 ff1 fs0 fc0 sc0 ls0 ws0"> </div><div class="t m0 x1 h3 yd82 ff1 fs0 fc0 sc0 ls0 ws0">RFC 2616                        HTTP/1.1                       June 1999</div><div class="t m0 x1 h3 yd83 ff1 fs0 fc0 sc0 ls0 ws0">   If the Date values are equal, then the client MAY use either response</div><div class="t m0 x1 h3 yd84 ff1 fs0 fc0 sc0 ls0 ws0">   (or MAY, if it is being extremely prudent, request a new response).</div><div class="t m0 x1 h3 yd85 ff1 fs0 fc0 sc0 ls0 ws0">   Servers MUST NOT depend on clients being able to choose</div><div class="t m0 x1 h3 yd86 ff1 fs0 fc0 sc0 ls0 ws0">   deterministically between responses generated during the same second,</div><div class="t m0 x1 h3 yd87 ff1 fs0 fc0 sc0 ls0 ws0">   if their expiration times overlap.</div><div class="t m0 x1 h6 yd88 ff2 fs0 fc0 sc0 ls0 ws0">13.3 Validation Model</div><div class="t m0 x1 h3 yd89 ff1 fs0 fc0 sc0 ls0 ws0">   When a cache has a stale entry that it would like to use as a</div><div class="t m0 x1 h3 yd8a ff1 fs0 fc0 sc0 ls0 ws0">   response to a client&apos;s request, it first has to check with the origin</div><div class="t m0 x1 h3 yd8b ff1 fs0 fc0 sc0 ls0 ws0">   server (or possibly an intermediate cache with a fresh response) to</div><div class="t m0 x1 h3 yd8c ff1 fs0 fc0 sc0 ls0 ws0">   see if its cached entry is still usable. We call this &quot;validating&quot;</div><div class="t m0 x1 h3 yd8d ff1 fs0 fc0 sc0 ls0 ws0">   the cache entry. Since we do not want to have to pay the overhead of</div><div class="t m0 x1 h3 yd8e ff1 fs0 fc0 sc0 ls0 ws0">   retransmitting the full response if the cached entry is good, and we</div><div class="t m0 x1 h3 yd8f ff1 fs0 fc0 sc0 ls0 ws0">   do not want to pay the overhead of an extra round trip if the cached</div><div class="t m0 x1 h3 yd90 ff1 fs0 fc0 sc0 ls0 ws0">   entry is invalid, the HTTP/1.1 protocol supports the use of</div><div class="t m0 x1 h3 yd91 ff1 fs0 fc0 sc0 ls0 ws0">   conditional methods.</div><div class="t m0 x1 h3 yd92 ff1 fs0 fc0 sc0 ls0 ws0">   The key protocol features for supporting conditional methods are</div><div class="t m0 x1 h3 yd93 ff1 fs0 fc0 sc0 ls0 ws0">   those concerned with &quot;cache validators.&quot; When an origin server</div><div class="t m0 x1 h3 yd94 ff1 fs0 fc0 sc0 ls0 ws0">   generates a full response, it attaches some sort of validator to it,</div><div class="t m0 x1 h3 yd95 ff1 fs0 fc0 sc0 ls0 ws0">   which is kept with the cache entry. When a client (user agent or</div><div class="t m0 x1 h3 yd96 ff1 fs0 fc0 sc0 ls0 ws0">   proxy cache) makes a conditional request for a resource for which it</div><div class="t m0 x1 h3 yd97 ff1 fs0 fc0 sc0 ls0 ws0">   has a cache entry, it includes the associated validator in the</div><div class="t m0 x1 h3 yd98 ff1 fs0 fc0 sc0 ls0 ws0">   request.</div><div class="t m0 x1 h3 yd99 ff1 fs0 fc0 sc0 ls0 ws0">   The server then checks that validator against the current validator</div><div class="t m0 x1 h3 yd9a ff1 fs0 fc0 sc0 ls0 ws0">   for the entity, and, if they match (see section 13.3.3), it responds</div><div class="t m0 x1 h3 yd9b ff1 fs0 fc0 sc0 ls0 ws0">   with a special status code (usually, 304 (Not Modified)) and no</div><div class="t m0 x1 h3 yd9c ff1 fs0 fc0 sc0 ls0 ws0">   entity-body. Otherwise, it returns a full response (including</div><div class="t m0 x1 h3 yd9d ff1 fs0 fc0 sc0 ls0 ws0">   entity-body). Thus, we avoid transmitting the full response if the</div><div class="t m0 x1 h3 yd9e ff1 fs0 fc0 sc0 ls0 ws0">   validator matches, and we avoid an extra round trip if it does not</div><div class="t m0 x1 h3 yd9f ff1 fs0 fc0 sc0 ls0 ws0">   match.</div><div class="t m0 x1 h3 yda0 ff1 fs0 fc0 sc0 ls0 ws0">   In HTTP/1.1, a conditional request looks exactly the same as a normal</div><div class="t m0 x1 h3 yda1 ff1 fs0 fc0 sc0 ls0 ws0">   request for the same resource, except that it carries a special</div><div class="t m0 x1 h3 yda2 ff1 fs0 fc0 sc0 ls0 ws0">   header (which includes the validator) that implicitly turns the</div><div class="t m0 x1 h3 yda3 ff1 fs0 fc0 sc0 ls0 ws0">   method (usually, GET) into a conditional.</div><div class="t m0 x1 h3 yda4 ff1 fs0 fc0 sc0 ls0 ws0">   The protocol includes both positive and negative senses of cache-</div><div class="t m0 x1 h3 yda5 ff1 fs0 fc0 sc0 ls0 ws0">   validating conditions. That is, it is possible to request either that</div><div class="t m0 x1 h3 yda6 ff1 fs0 fc0 sc0 ls0 ws0">   a method be performed if and only if a validator matches or if and</div><div class="t m0 x1 h3 yda7 ff1 fs0 fc0 sc0 ls0 ws0">   only if no validators match.</div><div class="t m0 x1 h3 yda8 ff1 fs0 fc0 sc0 ls0 ws0">Fielding, et al.            Standards Track                    [Page 85]</div></div><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:801.984400px;width:5.606300px;height:11.218700px;background-color:rgba(255,255,255,0.000001);"></div><a class="l" href="https://tools.ietf.org/html/rfc2616"><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:789.171900px;width:44.849900px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div></a><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:673.843800px;width:23.225900px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div><div class="d m1" style="border-style:none;position:absolute;left:276.475500px;bottom:404.742200px;width:78.487400px;height:11.218700px;background-color:rgba(255,255,255,0.000001);"></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
