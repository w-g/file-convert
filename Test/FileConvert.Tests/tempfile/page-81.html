<div id="pf51" class="pf w0 h0" data-page-no="51"><div class="pc pc51 w0 h0"><img class="bi x0 y0 w1 h1" alt="" src="bg51.png"/><div class="c x0 y3c1 w1 h9"><div class="t m0 x1 h3 yce5 ff1 fs0 fc0 sc0 ls0 ws0"> </div><div class="t m0 x1 h3 yce6 ff1 fs0 fc0 sc0 ls0 ws0">RFC 2616                        HTTP/1.1                       June 1999</div><div class="t m0 x1 h3 yce7 ff1 fs0 fc0 sc0 ls0 ws0">   HTTP/1.1 requires origin servers to send a Date header, if possible,</div><div class="t m0 x1 h3 yce8 ff1 fs0 fc0 sc0 ls0 ws0">   with every response, giving the time at which the response was</div><div class="t m0 x1 h3 yce9 ff1 fs0 fc0 sc0 ls0 ws0">   generated (see section 14.18). We use the term &quot;date_value&quot; to denote</div><div class="t m0 x1 h3 ycea ff1 fs0 fc0 sc0 ls0 ws0">   the value of the Date header, in a form appropriate for arithmetic</div><div class="t m0 x1 h3 yceb ff1 fs0 fc0 sc0 ls0 ws0">   operations.</div><div class="t m0 x1 h3 ycec ff1 fs0 fc0 sc0 ls0 ws0">   HTTP/1.1 uses the Age response-header to convey the estimated age of</div><div class="t m0 x1 h3 yced ff1 fs0 fc0 sc0 ls0 ws0">   the response message when obtained from a cache. The Age field value</div><div class="t m0 x1 h3 ycee ff1 fs0 fc0 sc0 ls0 ws0">   is the cache&apos;s estimate of the amount of time since the response was</div><div class="t m0 x1 h3 ycef ff1 fs0 fc0 sc0 ls0 ws0">   generated or revalidated by the origin server.</div><div class="t m0 x1 h3 ycf0 ff1 fs0 fc0 sc0 ls0 ws0">   In essence, the Age value is the sum of the time that the response</div><div class="t m0 x1 h3 ycf1 ff1 fs0 fc0 sc0 ls0 ws0">   has been resident in each of the caches along the path from the</div><div class="t m0 x1 h3 ycf2 ff1 fs0 fc0 sc0 ls0 ws0">   origin server, plus the amount of time it has been in transit along</div><div class="t m0 x1 h3 ycf3 ff1 fs0 fc0 sc0 ls0 ws0">   network paths.</div><div class="t m0 x1 h3 ycf4 ff1 fs0 fc0 sc0 ls0 ws0">   We use the term &quot;age_value&quot; to denote the value of the Age header, in</div><div class="t m0 x1 h3 ycf5 ff1 fs0 fc0 sc0 ls0 ws0">   a form appropriate for arithmetic operations.</div><div class="t m0 x1 h3 ycf6 ff1 fs0 fc0 sc0 ls0 ws0">   A response&apos;s age can be calculated in two entirely independent ways:</div><div class="t m0 x1 h3 ycf7 ff1 fs0 fc0 sc0 ls0 ws0">      1. now minus date_value, if the local clock is reasonably well</div><div class="t m0 x1 h3 ycf8 ff1 fs0 fc0 sc0 ls0 ws0">         synchronized to the origin server&apos;s clock. If the result is</div><div class="t m0 x1 h3 ycf9 ff1 fs0 fc0 sc0 ls0 ws0">         negative, the result is replaced by zero.</div><div class="t m0 x1 h3 ycfa ff1 fs0 fc0 sc0 ls0 ws0">      2. age_value, if all of the caches along the response path</div><div class="t m0 x1 h3 ycfb ff1 fs0 fc0 sc0 ls0 ws0">         implement HTTP/1.1.</div><div class="t m0 x1 h3 ycfc ff1 fs0 fc0 sc0 ls0 ws0">   Given that we have two independent ways to compute the age of a</div><div class="t m0 x1 h3 ycfd ff1 fs0 fc0 sc0 ls0 ws0">   response when it is received, we can combine these as</div><div class="t m0 x1 h3 ycfe ff1 fs0 fc0 sc0 ls0 ws0">       corrected_received_age = max(now - date_value, age_value)</div><div class="t m0 x1 h3 ycff ff1 fs0 fc0 sc0 ls0 ws0">   and as long as we have either nearly synchronized clocks or all-</div><div class="t m0 x1 h3 yd00 ff1 fs0 fc0 sc0 ls0 ws0">   HTTP/1.1 paths, one gets a reliable (conservative) result.</div><div class="t m0 x1 h3 yd01 ff1 fs0 fc0 sc0 ls0 ws0">   Because of network-imposed delays, some significant interval might</div><div class="t m0 x1 h3 yd02 ff1 fs0 fc0 sc0 ls0 ws0">   pass between the time that a server generates a response and the time</div><div class="t m0 x1 h3 yd03 ff1 fs0 fc0 sc0 ls0 ws0">   it is received at the next outbound cache or client. If uncorrected,</div><div class="t m0 x1 h3 yd04 ff1 fs0 fc0 sc0 ls0 ws0">   this delay could result in improperly low ages.</div><div class="t m0 x1 h3 yd05 ff1 fs0 fc0 sc0 ls0 ws0">   Because the request that resulted in the returned Age value must have</div><div class="t m0 x1 h3 yd06 ff1 fs0 fc0 sc0 ls0 ws0">   been initiated prior to that Age value&apos;s generation, we can correct</div><div class="t m0 x1 h3 yd07 ff1 fs0 fc0 sc0 ls0 ws0">   for delays imposed by the network by recording the time at which the</div><div class="t m0 x1 h3 yd08 ff1 fs0 fc0 sc0 ls0 ws0">   request was initiated. Then, when an Age value is received, it MUST</div><div class="t m0 x1 h3 yd09 ff1 fs0 fc0 sc0 ls0 ws0">   be interpreted relative to the time the request was initiated, not</div><div class="t m0 x1 h3 yd0a ff1 fs0 fc0 sc0 ls0 ws0">Fielding, et al.            Standards Track                    [Page 81]</div></div><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:801.984400px;width:5.606300px;height:11.214800px;background-color:rgba(255,255,255,0.000001);"></div><a class="l" href="https://tools.ietf.org/html/rfc2616"><div class="d m1" style="border-style:none;position:absolute;left:35.407100px;bottom:789.171900px;width:44.849900px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div></a><div class="d m1" style="border-style:none;position:absolute;left:136.319500px;bottom:725.101600px;width:72.881100px;height:11.210900px;background-color:rgba(255,255,255,0.000001);"></div></div><div class="pi" data-data='{"ctm":[1.000000,0.000000,0.000000,1.000000,0.000000,0.000000]}'></div></div>
